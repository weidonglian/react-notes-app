{"version":3,"sources":["services/api.js","app/config.js","services/auth.js","components/login/copyright.js","state/local/index.js","components/signup/form.js","pages/signup.js","components/login/form.js","pages/login.js","components/todos/list-view.js","components/todos/add-view.js","state/remote/index.js","components/notes/list.js","components/notes/add.js","pages/notes.js","app/router.js","app/header.js","app/message.js","app/app.js","serviceWorker.js","index.js"],"names":["baseURL","apiURL","apiClient","axios","create","responseType","login","a","username","password","post","data","logout","delete","signup","getNotes","get","addNote","name","addTodo","noteId","updateTodo","id","done","put","toggleTodo","auth","this","_credentials","undefined","savedCredentials","sessionStorage","getItem","localStorage","setCredentials","JSON","parse","user","api","token","access_token","refresh_token","remember","isAuthenticated","catch","err","console","log","credentials","setItem","stringify","defaults","headers","common","removeItem","Copyright","Typography","variant","color","align","Date","getFullYear","actions","variants","appState","appMessage","message","visible","appStateReducer","state","action","type","payload","appStateContext","React","createContext","useAppState","useContext","AppStateProvider","children","useReducer","dispatch","Provider","value","formValuesSchema","yup","required","min","max","useStyles","makeStyles","theme","paper","marginTop","spacing","display","flexDirection","alignItems","avatar","margin","backgroundColor","palette","secondary","main","form","width","submit","FormView","props","classes","submitForm","isSubmitting","Container","component","maxWidth","CssBaseline","className","Avatar","Grid","container","item","xs","label","TextField","fullWidth","Button","onClick","disabled","justify","Link","to","RouterLink","Box","mt","SignupForm","history","useHistory","initialValues","onSubmit","values","helpers","then","response","push","error","setSubmitting","validationSchema","SignupPage","notRequired","autoComplete","autoFocus","Label","CheckboxWithLabel","LoginForm","LoginPage","TodosListView","todos","p","FormGroup","map","todo","FormControlLabel","key","control","Checkbox","checked","onChange","input","flex","TodosAddView","useState","setName","handleAdd","InputBase","onKeyDown","e","keyCode","evt","valName","target","placeholder","inputProps","startAdornment","InputAdornment","position","queryKeys","root","flexGrow","padding","minWidth","borderStyle","NotesList","editingNoteId","setEditingNoteId","notes","useQuery","queryCache","useQueryCache","useMutation","onSuccess","oldNotes","getQueryData","newNotes","produce","n","noteIndex","findIndex","note","setQueryData","useMutationAddTodo","todoIndex","useMutationToggleTodo","isLoading","isError","Paper","onMouseEnter","onMouseLeave","todoId","fab","NotesAdd","open","setOpen","old","useMutationAddNote","handleClose","Fab","aria-label","size","Dialog","onClose","aria-labelledby","DialogTitle","DialogContent","DialogActions","NotesPage","PrivateRoute","RestrictedRoute","AppRouter","exact","path","createStyles","menuButton","marginRight","title","AppHeader","anchorEl","setAnchorEl","Boolean","handleLogin","AppBar","Toolbar","IconButton","edge","aria-controls","aria-haspopup","event","currentTarget","anchorOrigin","vertical","horizontal","keepMounted","transformOrigin","MenuItem","success","green","dark","info","primary","warning","amber","icon","fontSize","iconVariant","opacity","variantIcon","CheckCircleIcon","WarningIcon","ErrorIcon","InfoIcon","AppMessage","Icon","Snackbar","autoHideDuration","SnackbarContent","aria-describedby","clsx","QueryCache","App","initialIsOpen","window","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.05614478.chunk.js","sourcesContent":["import axios from 'axios'\nimport config from '../app/config'\n\nconst baseURL = config.apiURL\n\nconst createApiClient = () => {\n    return axios.create({\n        baseURL: baseURL,\n        responseType: 'json',\n    })\n}\n\nexport const apiClient = createApiClient()\n\nconst login = async ({ username, password }) => {\n    const { data } = await apiClient.post('/session', {\n        username,\n        password,\n    })\n    return data\n}\n\nconst logout = async () => {\n    const { data } = await  apiClient.delete('/session')\n    return data\n}\n\nconst signup = async ({ username, password }) => {\n    const { data } = await apiClient.post('/users/new', {\n        username,\n        password,\n    })\n    return data\n}\n\nconst getNotes = async () => {\n    const { data } = await apiClient.get('/notes')\n    return data\n}\n\nconst addNote = async ({ name }) => {\n    const { data } = await apiClient.post('/notes', {\n        name,\n    })\n    return data\n}\n\nconst addTodo = async ({ noteId, name }) => {\n    const { data } = await apiClient.post('/todos', {\n        name, noteId,\n    })\n    return data\n}\n\nconst updateTodo = async ({ id, name, done }) => {\n    const { data } = await apiClient.put(`/todos/${id}`, {\n        name, done,\n    })\n    return data\n}\n\nconst toggleTodo = async ({ id }) => {\n    const { data } = await apiClient.put(`/todos/${id}/toggle`)\n    return data\n}\n\nexport default { login, logout, signup, getNotes, addNote, addTodo, updateTodo, toggleTodo }","const devConfig = {\n    apiURL: `http://localhost:4000`\n}\n\nconst prodConfig = {\n    apiURL: `https://wd-notes-app.herokuapp.com`\n}\n\nexport default process.env.NODE_ENV === 'production' ? prodConfig : devConfig","import api, {apiClient} from './api'\n\nconst credentialsKey = 'credentials'\n\n/**\n * Provides a base for authentication workflow.\n * The LoginCredentials interface as well as login/logout methods should be replaced with proper implementation.\n */\nclass AuthService {\n    constructor() {\n        this._credentials = undefined\n        const savedCredentials = sessionStorage.getItem(credentialsKey) || localStorage.getItem(credentialsKey)\n        if (savedCredentials) {\n            this.setCredentials(JSON.parse(savedCredentials), true)\n        }\n    }\n\n    async signup(user) {\n        return api.signup(user)\n    }\n\n    async login(user) {\n        const { token } = await api.login(user)\n        this.setCredentials({\n            username: user.username,\n            access_token: token,\n            refresh_token: token,\n        }, user.remember)\n    }\n\n    async logout() {\n        this.setCredentials()\n        if (this.isAuthenticated()) {\n            await api.logout().catch(err => {\n                console.log('logout session with error:', err)\n            })\n\n        }\n    }\n\n    get username() {\n        return this._credentials ? this._credentials.username : null\n    }\n\n    isAuthenticated() {\n        return !!this._credentials\n    }\n\n    get credentials() {\n        return this._credentials\n    }\n\n    setCredentials(credentials, remember) {\n        this._credentials = credentials || null\n\n        if (credentials) {\n            const storage = remember ? localStorage : sessionStorage\n            storage.setItem(credentialsKey, JSON.stringify(credentials))\n            apiClient.defaults.headers.common['Authorization'] = `Bearer ${credentials.access_token}`\n        } else {\n            sessionStorage.removeItem(credentialsKey)\n            localStorage.removeItem(credentialsKey)\n            apiClient.defaults.headers.common['Authorization'] = null\n        }\n    }\n}\n\nconst auth = new AuthService()\n\nexport default auth\n\n","import React from 'react';\nimport { Typography } from '@material-ui/core';\n\n\nexport default function Copyright() {\n  return (\n    <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\n      {'Copyright Â© '}\n      {new Date().getFullYear()}\n      {'.'}\n    </Typography>\n  )\n}","import React from 'react'\n\nexport const actions = {\n  SHOW_MESSAGE: 'show_message',\n  HIDE_MESSAGE: 'hide_message'\n}\n\nexport const variants = {\n  SUCCESS: 'success',\n  INFO: 'info',\n  WARNING: 'warning',\n  ERROR: 'error'\n}\n\nconst appState = {\n  appMessage: {\n    message: '',\n    variant: variants.SUCCESS,\n    visible: false\n  }\n}\n\nfunction appStateReducer(state = appState, action) {\n  switch (action.type) {\n    case actions.SHOW_MESSAGE:\n      return {\n        ...state, appMessage: {\n          message: action.payload.message,\n          variant: action.payload.variant,\n          visible: true\n        }\n      }\n    case actions.HIDE_MESSAGE:\n      return {\n        ...state, appMessage: {\n          message: \"\",\n          variant: variants.INFO,\n          visible: false\n        }\n      }\n    default:\n      return state\n  }\n}\n\nconst appStateContext = React.createContext([])\n\nexport const useAppState = () => React.useContext(appStateContext)\n\nexport default function AppStateProvider({ children }) {\n  const [state, dispatch] = React.useReducer(appStateReducer, appState, undefined)\n  return (\n    <appStateContext.Provider value={[state, dispatch]}>\n      {children}\n    </appStateContext.Provider>\n  )\n}\n","import React from 'react'\nimport Avatar from '@material-ui/core/Avatar'\nimport Button from '@material-ui/core/Button'\nimport Link from '@material-ui/core/Link'\nimport CssBaseline from '@material-ui/core/CssBaseline'\nimport Grid from '@material-ui/core/Grid'\nimport Box from '@material-ui/core/Box'\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined'\nimport Typography from '@material-ui/core/Typography'\nimport { makeStyles } from '@material-ui/core/styles'\nimport Container from '@material-ui/core/Container'\nimport { Link as RouterLink, useHistory } from 'react-router-dom'\nimport Copyright from '../../components/login/copyright'\nimport * as yup from 'yup'\nimport { TextField } from 'formik-material-ui'\nimport { Form, Field, Formik } from 'formik'\nimport auth from '../../services/auth'\nimport { actions, useAppState, variants } from '../../state/local'\n\nconst formValuesSchema = yup.object({\n  username: yup\n    .string()\n    .required('Required'),\n  password: yup\n    .string()\n    .required('Required')\n    .min(8)\n    .max(16),\n})\n\nconst useStyles = makeStyles(theme => ({\n  paper: {\n    marginTop: theme.spacing(8),\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main,\n  },\n  form: {\n    width: '100%', // Fix IE 11 issue.\n    marginTop: theme.spacing(3),\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2),\n  },\n}))\n\nconst FormView = props => {\n  const classes = useStyles()\n  const { submitForm, isSubmitting } = props\n  return (\n    <Container component=\"main\" maxWidth=\"xs\">\n      <CssBaseline />\n      <div className={classes.paper}>\n        <Avatar className={classes.avatar}>\n          <LockOutlinedIcon />\n        </Avatar>\n        <Typography component=\"h1\" variant=\"h5\">\n          Sign up\n        </Typography>\n        <Form className={classes.form}>\n          <Grid container spacing={2}>\n            <Grid item xs={12}>\n              <Field\n                id=\"username\"\n                label=\"User name\"\n                name=\"username\"\n                component={TextField}\n                variant=\"outlined\"\n                fullWidth\n              />\n            </Grid>\n            <Grid item xs={12}>\n              <Field\n                id=\"password\"\n                name=\"password\"\n                label=\"Password\"\n                type=\"password\"\n                component={TextField}\n                variant=\"outlined\"\n                fullWidth\n              />\n            </Grid>\n          </Grid>\n          <Button\n            type=\"submit\"\n            fullWidth\n            variant=\"contained\"\n            color=\"primary\"\n            className={classes.submit}\n            onClick={submitForm}\n            disabled={isSubmitting}\n          >\n            Sign Up\n          </Button>\n          <Grid container justify=\"flex-end\">\n            <Grid item>\n              <Link to='/login' component={RouterLink} variant='body2'>\n                Already have an account? Sign in\n              </Link>\n            </Grid>\n          </Grid>\n        </Form>\n      </div>\n      <Box mt={5}>\n        <Copyright />\n      </Box>\n    </Container>\n  )\n}\n\nexport default function SignupForm() {\n  const history = useHistory()\n  const [, dispatch] = useAppState()\n  const initialValues = {\n    username: '',\n    password: '',\n  }\n\n  const handleSubmit = (values, helpers) => {\n    auth.signup(values).then((response) => {\n      dispatch({\n        type: actions.SHOW_MESSAGE,\n        payload: {\n          message: `Signup for '${response.data.username}'  succeeded`,\n          variant: variants.SUCCESS,\n        },\n      })\n      history.push('/')\n    }).catch(error => {\n      helpers.setSubmitting(false)\n      if (error.response.data.message) {\n        dispatch({\n          type: actions.SHOW_MESSAGE,\n          payload: {\n            message: error.response.data.message,\n            variant: variants.ERROR,\n          },\n        })\n      }\n    })\n  }\n\n  return (\n    <Formik\n      initialValues={initialValues}\n      onSubmit={handleSubmit}\n      validationSchema={formValuesSchema}\n    >\n      {props => <FormView {...props} />}\n    </Formik>\n  )\n}","import React from 'react'\nimport SignupForm from '../components/signup/form'\n\nexport default function SignupPage() {\n  return (\n    <SignupForm />\n  )\n}","import React from 'react'\nimport { Button, Grid, makeStyles, Link } from '@material-ui/core'\nimport { TextField, CheckboxWithLabel } from 'formik-material-ui'\nimport { Form, Field, Formik } from 'formik'\nimport * as yup from 'yup'\nimport auth from '../../services/auth'\nimport { Link as RouterLink, useHistory } from 'react-router-dom'\nimport { actions, useAppState, variants } from '../../state/local'\n\nconst formValuesSchema = yup.object({\n  username: yup\n    .string()\n    .required(),\n  password: yup\n    .string()\n    .required(),\n  remember: yup\n    .boolean()\n    .notRequired(),\n})\n\nconst useStyles = makeStyles(theme => ({\n  form: {\n    width: '100%', // Fix IE 11 issue.\n    marginTop: theme.spacing(1),\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2),\n  },\n}))\n\nconst FormView = props => {\n  const classes = useStyles()\n  const { submitForm, isSubmitting } = props\n  return (\n    <Form className={classes.form}>\n      <Field\n        type='text'\n        label='User name'\n        name=\"username\"\n        component={TextField}\n        autoComplete=\"username\"\n        autoFocus\n        variant=\"outlined\"\n        margin=\"normal\"\n        fullWidth\n      />\n      <Field\n        type=\"password\"\n        label=\"Password\"\n        name=\"password\"\n        component={TextField}\n        variant=\"outlined\"\n        margin=\"normal\"\n        fullWidth\n        autoComplete=\"current-password\"\n      />\n      <Field\n        name='remember'\n        Label={{label: \"Remember me\"}}\n        component={CheckboxWithLabel}\n        color=\"primary\"\n      />\n      <Button\n        type=\"submit\"\n        fullWidth\n        variant=\"contained\"\n        color=\"primary\"\n        className={classes.submit}\n        onClick={submitForm}\n        disabled={isSubmitting}\n      >\n        Sign In\n      </Button>\n      <Grid container>\n        <Grid item xs>\n          <Link to=\"/forgot-password\" component={RouterLink} variant='body2'>\n            Forgot password?\n          </Link>\n        </Grid>\n        <Grid item>\n          <Link to=\"/signup\" component={RouterLink} variant='body2'>\n            {\"Don't have an account? Sign Up\"}\n          </Link>\n        </Grid>\n      </Grid>\n    </Form>\n  )\n}\n\nexport default function LoginForm() {\n  const history = useHistory()\n  const initialValues = {\n    username: '',\n    password: '',\n    remember: true\n  }\n  const [, dispatch] = useAppState()\n  const handleSubmit = (values, helpers) => {\n    auth.login(values).then(() => {\n      dispatch({\n        type: actions.SHOW_MESSAGE,\n        payload: {\n          message: 'Login succeeded',\n          variant: variants.SUCCESS\n        }\n      })\n      history.push('/')\n    }).catch(error => {\n      helpers.setSubmitting(false)\n      if (error?.response?.data?.message)\n        dispatch({\n          type: actions.SHOW_MESSAGE,\n          payload: {\n            message: error.response.data.message,\n            variant: variants.ERROR\n          }\n        })\n    })\n  }\n\n  return (\n    <Formik\n      initialValues = {initialValues}\n      onSubmit = {handleSubmit}\n      validationSchema = {formValuesSchema}\n    >\n      {props => <FormView {...props} /> }\n    </Formik>\n  )\n}","import React from 'react'\nimport Avatar from '@material-ui/core/Avatar'\nimport CssBaseline from '@material-ui/core/CssBaseline'\nimport Box from '@material-ui/core/Box'\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined'\nimport Typography from '@material-ui/core/Typography'\nimport { makeStyles } from '@material-ui/core/styles'\nimport Container from '@material-ui/core/Container'\nimport LoginForm from '../components/login/form'\nimport Copyright from '../components/login/copyright'\n\n\nconst useStyles = makeStyles(theme => ({\n  paper: {\n    marginTop: theme.spacing(8),\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center'\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main\n  }\n}))\n\nexport default function LoginPage() {\n  const classes = useStyles()\n  return (\n    <Container component=\"main\" maxWidth=\"xs\">\n      <CssBaseline />\n      <div className={classes.paper}>\n        <Avatar className={classes.avatar}>\n          <LockOutlinedIcon />\n        </Avatar>\n        <Typography component=\"h1\" variant=\"h5\">\n          Sign in\n        </Typography>\n        <LoginForm />\n      </div>\n      <Box mt={8}>\n        <Copyright />\n      </Box>\n    </Container>\n  )\n}","import { Box, Checkbox, FormControlLabel, FormGroup } from '@material-ui/core'\nimport React from 'react'\n\nexport default function TodosListView({ todos, toggleTodo }) {\n  return (\n    <Box p={0}>\n      <FormGroup>\n        {todos.map(todo => (\n          <FormControlLabel key={todo.id}\n                            control={<Checkbox checked={todo.done} onChange={() => toggleTodo(todo.id)} />}\n                            label={todo.name}\n          />),\n        )}\n      </FormGroup>\n    </Box>\n  )\n}","import { InputAdornment, InputBase } from '@material-ui/core'\nimport AddIcon from '@material-ui/icons/Add'\nimport React, { useState } from 'react'\nimport { makeStyles } from '@material-ui/core/styles'\n\nconst useStyles = makeStyles(theme => ({\n  input: {\n    // marginLeft: theme.spacing(2),\n    flex: 1,\n  },\n}))\n\nexport default function TodosAddView({addTodo}) {\n\n  const [name, setName] = useState('')\n\n  const inputChanged = evt => {\n    const valName = evt.target.value\n    setName(valName)\n  }\n\n  const keyPressed = e => {\n    if (e.keyCode === 13) { // Enter key\n      handleAdd()\n    }\n  }\n\n  const handleAdd = () => {\n    if (name) {\n      addTodo({name})\n      setName('')\n    }\n  }\n\n\n  const classes = useStyles()\n\n  return (\n    <>\n      <InputBase\n        className={classes.input}\n        onKeyDown={keyPressed}\n        value={name}\n        onChange={inputChanged}\n        placeholder=\"Add list item here\"\n        inputProps={{ 'aria-label': 'add list item here' }}\n        startAdornment={\n          <InputAdornment position=\"start\">\n            <AddIcon color='disabled' />\n          </InputAdornment>\n        }\n      />\n    </>\n  )\n}","import { useMutation, useQuery, useQueryCache } from 'react-query'\nimport api from '../../services/api'\nimport produce from 'immer'\n\nexport const queryKeys = {\n    notes: \"notes\"\n}\n\nexport const useQueryNotes = () => useQuery(queryKeys.notes, api.getNotes)\n\nexport const useMutationAddNote = () => {\n    const queryCache = useQueryCache()\n    return useMutation(api.addNote, {\n        onSuccess: data => {\n            const old = queryCache.getQueryData('notes')\n            queryCache.setQueryData('notes', [...old, data])\n        },\n    })\n}\n\nexport const useMutationAddTodo = () => {\n    const queryCache = useQueryCache()\n    return useMutation(api.addTodo, {\n        onSuccess: data => {\n            const oldNotes = queryCache.getQueryData(queryKeys.notes)\n            const newNotes = produce(oldNotes, n => {\n                const noteIndex = n.findIndex(note => note.id === data.noteId)\n                if (noteIndex > -1) {\n                    n[noteIndex].todos.push(data)\n                }\n            })\n            queryCache.setQueryData(queryKeys.notes, newNotes)\n        },\n    })\n}\n\nexport const useMutationToggleTodo = () => {\n    const queryCache = useQueryCache()\n    return useMutation(api.toggleTodo, {\n        onSuccess: data => {\n            const oldNotes = queryCache.getQueryData(queryKeys.notes)\n            const newNotes = produce(oldNotes, n => {\n                const noteIndex = n.findIndex(note => note.id === data.noteId)\n                if (noteIndex > -1) {\n                    const todoIndex = n[noteIndex].todos.findIndex(todo => todo.id === data.id)\n                    if (todoIndex > -1) {\n                        n[noteIndex].todos[todoIndex].done = data.done\n                    }\n                }\n            })\n            queryCache.setQueryData(queryKeys.notes, newNotes)\n        },\n    })\n}","import { makeStyles, Typography } from '@material-ui/core'\nimport Grid from '@material-ui/core/Grid'\nimport Paper from '@material-ui/core/Paper'\nimport React from 'react'\nimport TodosListView from '../todos/list-view'\nimport TodosAddView from '../todos/add-view'\nimport { useMutationAddTodo, useMutationToggleTodo, useQueryNotes } from '../../state/remote'\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        flexGrow: 1,\n        padding: theme.spacing(2),\n    },\n    paper: {\n        minWidth: '120px',\n        padding: theme.spacing(2),\n        '&:hover': {\n            borderStyle: 'solid',\n        },\n    },\n    control: {\n        padding: theme.spacing(2),\n    },\n}))\n\nexport default function NotesList() {\n    const classes = useStyles()\n    const [editingNoteId, setEditingNoteId] = React.useState(-1)\n    const notes = useQueryNotes()\n    const [addTodo] = useMutationAddTodo()\n    const [toggleTodo] = useMutationToggleTodo()\n\n    if (notes.isLoading) {\n        return <span>Loading...</span>\n    }\n\n    if (notes.isError) {\n        return <span>Error: {notes.error.message}</span>\n    }\n\n    return (\n        <Grid container spacing={2} className={classes.root}>\n            {notes.data.map(note => (\n                <Grid key={note.id} item xs={4}>\n                    <Paper className={classes.paper} onMouseEnter={() => setEditingNoteId(note.id)}\n                           onMouseLeave={() => setEditingNoteId(-1)}>\n                        <Typography variant='h5'>\n                            {note.name}\n                        </Typography>\n                        <TodosListView todos={note.todos}\n                                       toggleTodo={todoId => toggleTodo({ id: todoId })} />\n                        {editingNoteId === note.id &&\n                        <TodosAddView addTodo={({ name }) => addTodo({ noteId: note.id, name })} />}\n                    </Paper>\n                </Grid>\n            ))}\n        </Grid>\n    )\n}","import { Button, Dialog, DialogActions, DialogContent, DialogTitle, Fab, TextField } from '@material-ui/core'\nimport AddIcon from '@material-ui/icons/Add'\nimport React, { useState } from 'react'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { useMutationAddNote } from '../../state/remote'\n\nconst useStyles = makeStyles(theme => ({\n    fab: {\n        margin: theme.spacing(1),\n    },\n}))\n\nexport default function NotesAdd() {\n    const [open, setOpen] = useState(false)\n    const [name, setName] = useState('')\n    const [addNote] = useMutationAddNote()\n    const classes = useStyles()\n\n    const handleClose = () => {\n        setOpen(false)\n    }\n\n    const handleSubmit = () => {\n        handleClose()\n        if (name) {\n            addNote({ name }).catch(err => {\n                console.log('addNote with error:', err)\n            })\n        }\n    }\n\n    const onChangeName = e => {\n        const valName = e.target.value\n        setName(valName)\n    }\n\n    const onClickAddNote = () => {\n        setOpen(true)\n        setName('')\n    }\n\n    return (\n        <>\n            <Fab color=\"secondary\" aria-label=\"add\" size=\"small\" className={classes.fab}\n                 onClick={onClickAddNote}>\n                <AddIcon />\n            </Fab>\n\n            <Dialog open={open} onClose={handleClose} aria-labelledby=\"form-dialog-title\">\n                <DialogTitle id=\"form-dialog-title\">Create a new note:</DialogTitle>\n                <DialogContent>\n                    <TextField\n                        autoFocus\n                        margin=\"dense\"\n                        id=\"name\"\n                        label=\"Name\"\n                        type=\"text\"\n                        fullWidth\n                        onChange={onChangeName}\n                    />\n                </DialogContent>\n                <DialogActions>\n                    <Button onClick={handleClose} color=\"primary\">\n                        Cancel\n                    </Button>\n                    <Button onClick={handleSubmit} color=\"primary\">\n                        OK\n                    </Button>\n                </DialogActions>\n            </Dialog>\n        </>\n    )\n}","import React from 'react'\nimport NotesList from '../components/notes/list'\nimport NotesAdd from '../components/notes/add'\n\nexport default function NotesPage() {\n  return (\n    <>\n      <NotesAdd />\n      <NotesList />\n    </>\n  )\n}","import React from 'react'\nimport { Redirect, Route, Switch } from 'react-router-dom'\nimport auth from '../services/auth'\nimport SignupPage from '../pages/signup'\nimport LoginPage from '../pages/login'\nimport NotesPage from '../pages/notes'\n\nconst PrivateRoute = props => (\n    <>\n        {auth.isAuthenticated() ? props.children : <Redirect to='/login' />}\n    </>\n)\n\nconst RestrictedRoute = props => (\n    <>\n        {auth.isAuthenticated() ? <Redirect to='/' /> : props.children}\n    </>\n)\n\nexport default function AppRouter() {\n  return (\n    <Switch>\n      <Route exact path='/'>\n        <Redirect to='/notes' />\n      </Route>\n      <Route exact path='/signup' component={SignupPage} />\n      <RestrictedRoute exact path='/login'>\n        <LoginPage />\n      </RestrictedRoute>\n      <PrivateRoute exact path='/notes'>\n        <NotesPage />\n      </PrivateRoute>\n    </Switch>\n  )\n}","import AppBar from '@material-ui/core/AppBar'\nimport IconButton from '@material-ui/core/IconButton'\nimport { createStyles, makeStyles } from '@material-ui/core/styles'\nimport AccountCircle from '@material-ui/icons/AccountCircle'\nimport Toolbar from '@material-ui/core/Toolbar'\nimport Typography from '@material-ui/core/Typography'\nimport MenuIcon from '@material-ui/icons/Menu'\nimport React from 'react'\nimport { Menu, MenuItem } from '@material-ui/core'\nimport { useHistory } from 'react-router'\nimport auth from '../services/auth'\n\nconst useStyles = makeStyles(theme =>\n    createStyles({\n        root: {\n            flexGrow: 1\n        },\n        menuButton: {\n            marginRight: theme.spacing(2)\n        },\n        title: {\n            flexGrow: 1\n        }\n    })\n)\n\nexport default function AppHeader() {\n    const classes = useStyles()\n    const [anchorEl, setAnchorEl] = React.useState(null);\n    const open = Boolean(anchorEl)\n    const history = useHistory()\n\n    //const handleChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    //setAuth(event.target.checked);\n    //}\n\n    const handleMenu = event => {\n        setAnchorEl(event.currentTarget);\n    }\n\n    const handleClose = () => {\n        setAnchorEl(null);\n    }\n\n    const handleLogin = () => {\n        handleClose()\n        history.push('/login')\n    }\n\n    const handleLogout = () => {\n        auth.logout()\n        handleLogin()\n    }\n\n    return (\n        <div className={classes.root}>\n            <AppBar position=\"static\">\n                <Toolbar>\n                    <IconButton edge=\"start\" className={classes.menuButton} color=\"inherit\" aria-label=\"menu\">\n                        <MenuIcon />\n                    </IconButton>\n                    <Typography variant=\"h6\" className={classes.title}>\n                        Notes\n                    </Typography>\n                    <IconButton aria-label=\"account of current user\" aria-controls=\"menu-appbar\"\n                        aria-haspopup=\"true\" onClick={handleMenu} color=\"inherit\">\n                        <AccountCircle />\n                    </IconButton>\n                    <Menu id=\"menu-appbar\" anchorEl={anchorEl} anchorOrigin={{ vertical: 'top', horizontal: 'right', }}\n                        keepMounted transformOrigin={{ vertical: 'top', horizontal: 'right' }}\n                        open={open} onClose={handleClose}>\n                        {\n                            !auth.isAuthenticated() ? <MenuItem onClick={handleLogin}>Login</MenuItem> :\n                                <MenuItem onClick={handleLogout}>Logout</MenuItem>\n                        }\n                    </Menu>\n                </Toolbar>\n            </AppBar>\n        </div>\n    )\n}\n\n","import React from 'react'\nimport clsx from 'clsx'\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle'\nimport ErrorIcon from '@material-ui/icons/Error'\nimport InfoIcon from '@material-ui/icons/Info'\nimport CloseIcon from '@material-ui/icons/Close'\nimport { amber, green } from '@material-ui/core/colors'\nimport IconButton from '@material-ui/core/IconButton'\nimport Snackbar from '@material-ui/core/Snackbar'\nimport SnackbarContent from '@material-ui/core/SnackbarContent'\nimport WarningIcon from '@material-ui/icons/Warning'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { actions, useAppState } from '../state/local'\n\nconst useStyles = makeStyles(theme => ({\n  success: {\n    backgroundColor: green[600],\n  },\n  error: {\n    backgroundColor: theme.palette.error.dark,\n  },\n  info: {\n    backgroundColor: theme.palette.primary.main,\n  },\n  warning: {\n    backgroundColor: amber[700],\n  },\n  icon: {\n    fontSize: 20,\n  },\n  iconVariant: {\n    opacity: 0.9,\n    marginRight: theme.spacing(1),\n  },\n  message: {\n    display: 'flex',\n    alignItems: 'center',\n  },\n}))\n\nconst variantIcon = {\n  success: CheckCircleIcon,\n  warning: WarningIcon,\n  error: ErrorIcon,\n  info: InfoIcon,\n}\n\nexport default function AppMessage() {\n  const classes = useStyles()\n  const [state, dispatch] = useAppState()\n  const { message, variant, visible } = state.appMessage\n  const Icon = variantIcon[variant]\n  const handleClose = () => {\n    dispatch({\n      type: actions.HIDE_MESSAGE,\n      payload: {},\n    })\n  }\n\n  return (\n    <Snackbar\n      anchorOrigin={{\n        vertical: 'bottom',\n        horizontal: 'left',\n      }}\n      open={visible}\n      autoHideDuration={5000}\n      onClose={handleClose}\n    >\n      <SnackbarContent\n        className={classes[variant]}\n        aria-describedby=\"client-snackbar\"\n        message={\n          <span id=\"client-snackbar\" className={classes.message}>\n            <Icon className={clsx(classes.icon, classes.iconVariant)} />\n            {message}\n          </span>\n        }\n        action={[\n          <IconButton key=\"close\" aria-label=\"close\" color=\"inherit\" onClick={handleClose}>\n            <CloseIcon className={classes.icon} />\n          </IconButton>,\n        ]}\n      />\n    </Snackbar>\n  )\n}","import React from 'react'\nimport { BrowserRouter } from 'react-router-dom'\nimport AppRouter from './router'\nimport AppHeader from './header'\nimport AppMessage from './message'\nimport AppStateProvider from '../state/local'\nimport { QueryCache, ReactQueryCacheProvider } from 'react-query'\nimport { ReactQueryDevtools } from 'react-query-devtools'\n\nconst queryCache = new QueryCache()\n\nexport default function App() {\n    return (\n        <BrowserRouter>\n            <ReactQueryCacheProvider queryCache={queryCache}>\n                <AppStateProvider>\n                    <AppHeader />\n                    <AppMessage />\n                    <AppRouter />\n                </AppStateProvider>\n                <ReactQueryDevtools initialIsOpen />\n            </ReactQueryCacheProvider>\n        </BrowserRouter>\n    )\n}\n\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './app/app';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n    <React.StrictMode>\n        <App />\n    </React.StrictMode>,\n    document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();"],"sourceRoot":""}